<!DOCTYPE html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Anchor's Home</title>

  <!-- Theme BEFORE paint (prevents flash) -->
  <script>
    (function () {
      var savedTheme = localStorage.getItem("theme") || "dark";
      document.documentElement.setAttribute("data-theme", savedTheme);
    })();
  </script>

  <!-- CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
  <link rel="stylesheet" href="style.css" />

  <!-- MathJax (always typeset the whole page) -->
  <script>
    window.MathJax = {
      loader: { load: ["[tex]/ams", "[tex]/color", "[tex]/textmacros"] },
      tex: {
        packages: { "[+]": ["ams", "color", "textmacros"] },
        inlineMath: [["\\(", "\\)"]],
        displayMath: [["\\[", "\\]"]],
        tags: "ams",
        processEscapes: true
      },
      options: {
        skipHtmlTags: ["script", "noscript", "style", "textarea", "pre", "code"]
      }
    };
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"></script>

  <!-- Page helpers: theme toggle + TOC + scroll highlight + back-to-top -->
  <script>
    (function () {
      function applyTheme(mode) {
        document.documentElement.setAttribute("data-theme", mode);
        localStorage.setItem("theme", mode);
      }

      // Expose these only if your buttons call them
      window.__setLight = function () { applyTheme("light"); };
      window.__setDark  = function () { applyTheme("dark"); };

      document.addEventListener("DOMContentLoaded", () => {
        // MathJax: typeset whole document once
        if (window.MathJax) {
          MathJax.typesetPromise();
        }

        rebuildPageToc();
        observeHeadings();
        setupBackToTop();
      });

      function slugify(text) {
        return text.toLowerCase().trim()
          .replace(/[^a-z0-9\u4e00-\u9fa5\s-]/g, "")
          .replace(/\s+/g, "-")
          .replace(/-+/g, "-");
      }

      function ensureId(el) {
        if (!el.id) el.id = slugify(el.textContent);
        return el.id;
      }

      function rebuildPageToc() {
        const toc = document.querySelector("#pageToc");
        const scope = document.querySelector("main.content-wrap") || document.body;
        if (!toc) return;

        toc.innerHTML = "";
        const hs = Array.from(scope.querySelectorAll("h1, h2, h3"));
        hs.forEach(h => ensureId(h));

        const ul = document.createElement("ul");
        ul.className = "list-unstyled toc";

        hs.forEach(h => {
          const li = document.createElement("li");
          li.style.marginLeft = (h.tagName === "H1" ? 0 : h.tagName === "H2" ? 12 : 24) + "px";

          const a = document.createElement("a");
          a.href = "#" + h.id;
          a.textContent = h.textContent;

          li.appendChild(a);
          ul.appendChild(li);
        });

        toc.appendChild(ul);
      }

      function observeHeadings() {
        const headings = document.querySelectorAll(".content-wrap h1, .content-wrap h2, .content-wrap h3");
        if (!headings.length) return;

        const observer = new IntersectionObserver((entries) => {
          const links = Array.from(document.querySelectorAll(".toc a"));
          const map = new Map(links.map(a => [a.getAttribute("href"), a]));

          entries.forEach(entry => {
            const id = "#" + entry.target.id;
            const link = map.get(id);
            if (!link) return;
            if (entry.isIntersecting) link.classList.add("active");
            else link.classList.remove("active");
          });
        }, { rootMargin: "0px 0px -70% 0px", threshold: 0.1 });

        headings.forEach(h => observer.observe(h));
      }

      function setupBackToTop() {
        const btn = document.getElementById("backToTop");
        if (!btn) return;

        window.addEventListener("scroll", () => {
          btn.style.display = (window.scrollY > 400) ? "block" : "none";
        });

        btn.addEventListener("click", () => {
          window.scrollTo({ top: 0, behavior: "smooth" });
        });
      }
    })();
  </script>
</head>

<body>
    <header class="page-header">
        <h1 class="doc-title m-0">Anchor's Home</h1>

        <div class="d-flex align-items-center gap-1">
            <div class="btn-group me-1" role="group" aria-label="Theme">
                <button class="btn-icon" type="button" onclick="__setLight()" title="Light mode" aria-label="Switch to light mode">
                    <i class="fa-solid fa-sun" aria-hidden="true"></i>
                </button>
                <button class="btn-icon" type="button" onclick="__setDark()" title="Dark mode" aria-label="Switch to dark mode">
                    <i class="fa-solid fa-moon" aria-hidden="true"></i>
                </button>
            </div>
        </div>
    </header>

    <div class="layout">
        <!--侧边栏-->
        <aside class="sidebar-primary">
            <nav aria-label="Chapters" id="sideNav">
                <ul class="list-unstyled bd-sidenav nav-en">
                    <li><a class="nav-link" href="#">to be continued 1</a></li>
                    <li><a class="nav-link" href="#">to be continued 2</a></li>
                    <li><a class="nav-link" href="#">to be continued 3</a></li>
                    <li><a class="nav-link" href="Creation_of_Adam/Creation_of_Adam.html">Creation_of_Adam</a></li>
                    <li><a class="nav-link" href="#">to be continued 6</a></li>
                    <li><a class="nav-link" href="#">to be continued 7</a></li>
                </ul>
            </nav>
        </aside>

        <!--主体内容-->
        <main class="content-wrap">
            <!--第一排-->
            <section class="posts-grid">
                <div class="poem">
                    <p>巴山楚水凄凉地，二十三年弃置身。</p>
                    <p>怀旧空吟闻笛赋，到乡翻似烂柯人。</p>
                    <p>沉舟侧畔千帆过，病树前头万木春。</p>
                    <p>今日听君歌一曲，暂凭杯酒长精神。</p>
                    <p class="poem-source">《酬乐天扬州初逢席上见赠》——刘禹锡</p>
                    <p>既自以心为形役，奚惆怅而独悲？</p>
                    <p>悟已往之不谏，知来者之可追。</p>
                    <p>实迷途其未远，觉今是而昨非。</p>
                    <p>舟遥遥以轻飏，风飘飘而吹衣。</p>
                    <p>问征夫以前路，恨晨光之熹微。</p>
                    <p class="poem-source">《归去来兮辞》——陶渊明</p>
                </div>

                <article class="card">
                    <a href="#" class="image"><img src="wdmj.jpg" alt="光明顶上  武当山巅"></a>
                    <h3><a href="#" class="button">光明顶上  武当山巅</a></h3>
                    <p>这正邪两字, 原本难分......</p>
                </article>
            </section>

            <!--第二排-->
            <div class="posts-grid">
                <article class="card">
                    <a href="#" class="image">
                        <img src="physics.svg" class="img-light" alt="Math Light" style="width:100%; height:100%; object-fit:contain;">
                        <img src="physics-dark.svg" class="img-dark" alt="Math Dark" style="width:100%; height:100%; object-fit:contain;">
                    </a>
                    <h3><a href="#" class="button" style="font-family: 'Times New Roman';">Physics</a></h3>
                    <p style="font-family: 'Times New Roman';">Sometimes we just want to understand how things work</p>
                </article>
                <article class="card">
                    <a href="#" class="image">
                        <img src="math.svg" class="img-light"  alt="Math Light">
                        <img src="math-dark.svg" class="img-dark" alt="Math Dark">
                    </a>
                    <h3><a href="#" class="button" style="font-family: 'Times New Roman';">Math</a></h3>
                    <p style="font-family: 'Times New Roman';">The essence of mathematics-patterns and their meaning</p>
                </article>
            </div>

            <!--第三排-->
            <div class="posts-grid">
                <article class="card">
                    <a href="Creation_of_Adam/Creation_of_Adam.html" class="image">
                        <img src="Creation_of_Adam.jpg" alt="Creation_of_Adam" style="width:100%; height:100%; object-fit:contain;">
                    </a>
                    <h3><a href="Creation_of_Adam/Creation_of_Adam.html" class="button" style="font-family: 'Times New Roman';">Creation of Adam</a></h3>
                    <p style="font-family: 'Times New Roman';">Be confident.</p>
                </article>
                <article class="card">
                    <a href="#" class="image">
                        <img src="tu.png" alt="土" style="width:100%; height:100%; object-fit:contain;">
                    </a>
                    <h3><a href="#" class="button" style="font-family: 'Times New Roman';">奇奇怪怪</a></h3>
                    <p style="font-family: 'Times New Roman';">我们乡下来的土方法OK的啦</p>
                </article>
            </div>
        </main>
    </div>

    <button class="btn btn-primary rounded-pill" id="backToTop">
        <i class="fa-solid fa-arrow-up"></i> Back to top
    </button>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>